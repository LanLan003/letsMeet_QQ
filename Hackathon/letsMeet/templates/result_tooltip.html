{% load  staticfiles %}
<html>
<head>
  <!--<script src="https://unpkg.com/konva@2.4.2/konva.min.js"></script>-->
  <!--<script src="https://code.jquery.com/jquery-1.12.4.js"></script>-->
  <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="{% static 'js/popper.js' %}"></script>
  <script src="{% static 'js/tooltip.js' %}"></script>
  <!--<script src="https://unpkg.com/popper.js@1.14.6/dist/umd/popper.min.js"></script>
  <script src="https://unpkg.com/tooltip.js@1.3.1/dist/umd/tooltip.min.js"></script>-->
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="{% static 'css/style.css' %}" rel="stylesheet" type="text/css" />
  <link href="{% static 'css/style_result.css' %}" rel="stylesheet" type="text/css" />
  <title>Let's meet !</title>
</head>

<body>
    <span id="event" class="textContent">{{ eventName }}</span><br>

    <input id="input" type="text" / value='{{ copy }}'>
    <button id="copy">Copy</button>

      <ol id="selectable">
        <script>
        var c = 0
        {% for h in timeChosen %}
        {% for d in dayChosen %}
          var cn = {{ counting }}
          $( "#selectable" ).append("<li id='{{ d }} : {{ h }}' class='cell c" + cn[c] + "' data-toggle='tooltip' title='Hey!''>{{ d }}<br>{{ h }}</li>");
          c++;
        {% endfor %}
          $( "#selectable" ).append("<br>");
        {% endfor %}
        </script>
      </ol>

    <div>
      <span class="textContent">0 / {{ reply }}</span>
      <div id="scale" style="display: inline-block;">
        <script>
          for (var i = 0; i <= {{ maxNum }}; i++) {
            var scaleRange = "<span class='scaleRange c"+ i +"' style='height: 5px; padding: 0px " + 100/({{ maxNum }}+1) + "px;'></span>"
            $( "#scale" ).append(scaleRange);
          };

          for (var i = 0; i <= {{ maxNum }}; i++) {
            var s = 50 + (21/{{ maxNum }})*i
            var l = 90 - (70/{{ maxNum }})*i
            var hsl = "hsl(120, " + s + "%, " + l + "%)"
            $( ".c"+i ).css('background',hsl);

            if (i == {{ maxNum }}) {
              $( ".cell.c"+i ).css('color','white');
              $( ".cell.c"+i ).css('border','2px white dashed');
              //$( ".c"+i ).css('border-width', '');
              $( ".cell.c"+i ).css('margin', '0.5px 2px');
              $( ".cell.c"+i ).css('font-weight','600');
            } else if (i > 3*{{ maxNum }}/4) {
              $( ".cell.c"+i ).css('color','white');
              $( ".cell.c"+i ).css('font-weight','300');
            };
          };

          // Tooltip //
          $( function(){
            $( "[data-toggle='tooltip']" ).tooltip(); 
          } );
          
        </script>
        
      </div>
      <span class="textContent" style="padding-left: 0;">{{ maxNum }} / {{ reply }}</span>
    </div>

  <script>
  function copy() {
      var copyText = document.querySelector("#input");
      copyText.select();
      document.execCommand("copy");
    };
    document.querySelector("#copy").addEventListener("click", copy);
  </script>

</body>
</html>
